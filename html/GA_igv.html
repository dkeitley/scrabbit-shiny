<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>

	<div id="igvDiv" style="padding-top: 10px;padding-bottom: 10px; border:1px solid lightgray"></div>

	<script src="./igv.min.js"></script>

	<script type="module">
		document.addEventListener("DOMContentLoaded", function () {

			var options =
	    		{
			        reference:
			            {
			                fastaURL: "https://content.cruk.cam.ac.uk/jmlab/RabbitGastrulation2022/scrabbit-web/Oryctolagus_cuniculus.OryCun2.0.dna.toplevel.fa",
			                indexURL: "https://content.cruk.cam.ac.uk/jmlab/RabbitGastrulation2022/scrabbit-web/Oryctolagus_cuniculus.OryCun2.0.dna.toplevel.fa.fai",
			                indexed:true
			            },
			        locus:"4:14,200,078-14,210,773",
			        tracks: [
			            {
			                "name": "SIGAC11",
			                "url": "https://content.cruk.cam.ac.uk/jmlab/RabbitGastrulation2022/scrabbit-web/SIGAC11_coverage.tdf",
			            },
			            {
			                "type": "annotation",
			                "name": "UpdatedAnnotation",
			                "url": "https://content.cruk.cam.ac.uk/jmlab/RabbitGastrulation2022/scrabbit-web/extension_plus_alignments.gtf.gz",
			                "indexURL": "https://content.cruk.cam.ac.uk/jmlab/RabbitGastrulation2022/scrabbit-web/extension_plus_alignments.gtf.gz.tbi",
			                "displayMode": "SQUISHED" 
			            }

			        ]
			    };

			var igvDiv = document.getElementById("igvDiv");

			igv.createBrowser(igvDiv, options)
			    .then(function (browser) {
			        console.log("Created IGV browser");
			    })
		})


	</script>
</body>
</html>